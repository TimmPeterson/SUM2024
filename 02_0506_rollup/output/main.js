(function () {
  'use strict';

  //const { Pane } = require("./node_modules/tweakpane/dist/tweakpane.js");

  let canvas, gl, timeLoc;

  let MxLoc, MyLoc, MzLoc, rLoc, gLoc, bLoc, dxLoc, dyLoc;

  // OpenGL initialization function
  function initGL() {
    canvas = document.getElementById("myCan");
    canvas.addEventListener("mousemove", (e) => onMouseMove(e));
    canvas.addEventListener("wheel", (e) => onScroll(e));

    gl = canvas.getContext("webgl2");
    gl.clearColor(0.3, 0.47, 0.8, 1);

    // Shader creation
    let vs_txt = `#version 300 es
  precision highp float;
  in vec3 InPosition;
    
  out vec2 DrawPos;
  uniform float Time;
 
  void main( void )
  {
    gl_Position = vec4(InPosition, 1);
    DrawPos = InPosition.xy;
  }
  `;

    let fs_txt = `#version 300 es
  precision highp float;
  out vec4 OutColor;
  
  in vec2 DrawPos;
  uniform float Time;
  uniform float Mx;
  uniform float My;
  uniform float Mz;
  uniform float R;
  uniform float G;
  uniform float B;
  uniform float dX;
  uniform float dY;

  vec2 CmplMulCmpl( vec2 A, vec2 B )
  {
    return vec2(A.x * B.x - A.y * B.y, A.x * B.y + A.x * B.y);
  }

  void main( void )
  {
    vec2 D = vec2(-dX, dY) / 1000.0;
    vec2 M = D;//(vec2(-Mx, My) / vec2(2460.0, 1080.0)) * 2.0 + vec2(1.0, -1.0);

    vec2 Start = vec2(-1.0, -1.0) + M, End = vec2(1.0, 1.0) + M;

    vec2 DrawPos0 = (1.0 + DrawPos) / 2.0 * vec2(End.x - Start.x, End.y - Start.y) + vec2(Start.x, Start.y);
   
    DrawPos0 *= Mz;
  
    vec2 Z0 = 2.0 * vec2(0.3 * sin((Time + Mx * 0.0 / 100.0) * 0.5), 0.38 + 0.02 * sin(((Time + Mx * 0.0 / 100.0) * 0.1 + 1.0) / 300.0)), Z = DrawPos0.xy;
    int n = 0;    

    //Z0 = (Z0 + 1.0) / 2.0 * vec2(2400.0, 1080.0);
    //Z = (Z + 1.0) / 2.0 * vec2(2400.0, 1080.0);

    Z.x *= 2460.0 / 1080.0;
    Z0.x *= 2460.0 / 1080.0;

    while (n < 255 && dot(Z, Z) < 4.0)
    {
      Z = CmplMulCmpl(CmplMulCmpl(Z, Z), Z);//vec2(Z.x * Z.x - Z.y * Z.y, Z.x * Z.y + Z.x * Z.y);
      Z = Z + Z0;
      n++;
    }

    OutColor = vec4(vec3(3.0 * vec3(float(n) / 250.0, float(n) / 230.0, float(n) / 240.0)) * vec3(R, G, B) / 255.0, 1.0);
  }
  `;
    let vs = loadShader(gl.VERTEX_SHADER, vs_txt),
      fs = loadShader(gl.FRAGMENT_SHADER, fs_txt),
      prg = gl.createProgram();
    gl.attachShader(prg, vs);
    gl.attachShader(prg, fs);
    gl.linkProgram(prg);
    if (!gl.getProgramParameter(prg, gl.LINK_STATUS)) {
      let buf = gl.getProgramInfoLog(prg);
      console.log("Shader program link fail: " + buf);
    }

    // Vertex buffer creation
    const size = 1;
    const vertexes = [
      -size,
      size,
      0,
      -size,
      -size,
      0,
      size,
      size,
      0,
      size,
      -size,
      0,
    ];
    const posLoc = gl.getAttribLocation(prg, "InPosition");
    let vertexArray = gl.createVertexArray();
    gl.bindVertexArray(vertexArray);
    let vertexBuffer = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);
    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertexes), gl.STATIC_DRAW);
    if (posLoc != -1) {
      gl.vertexAttribPointer(posLoc, 3, gl.FLOAT, false, 0, 0);
      gl.enableVertexAttribArray(posLoc);
    }

    // Uniform data
    timeLoc = gl.getUniformLocation(prg, "Time");

    // Getting location from shader
    MxLoc = gl.getUniformLocation(prg, "Mx");
    MyLoc = gl.getUniformLocation(prg, "My");
    MzLoc = gl.getUniformLocation(prg, "Mz");
    rLoc = gl.getUniformLocation(prg, "R");
    gLoc = gl.getUniformLocation(prg, "G");
    bLoc = gl.getUniformLocation(prg, "B");
    dxLoc = gl.getUniformLocation(prg, "dX");
    dyLoc = gl.getUniformLocation(prg, "dY");

    gl.useProgram(prg);

    //const pane = new Pane();
    //pane.addBinding(PARAMS, "background");
  } // End of 'initGL' function

  // Load and compile shader function
  function loadShader(shaderType, shaderSource) {
    const shader = gl.createShader(shaderType);
    gl.shaderSource(shader, shaderSource);
    gl.compileShader(shader);
    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
      let buf = gl.getShaderInfoLog(shader);
      console.log("Shader compile fail: " + buf);
    }
    return shader;
  } // End of 'loadShader' function

  // Main render frame function
  function render() {
    // console.log(`Frame ${x++}`);
    gl.clear(gl.COLOR_BUFFER_BIT);

    if (timeLoc != -1) {
      const date = new Date();
      let t =
        date.getMinutes() * 60 +
        date.getSeconds() +
        date.getMilliseconds() / 1000;

      gl.uniform1f(timeLoc, t);
      gl.uniform1f(MxLoc, Mx);
      gl.uniform1f(MyLoc, My);
      gl.uniform1f(MzLoc, Mz);
      gl.uniform1f(rLoc, PARAMS.background.r);
      gl.uniform1f(gLoc, PARAMS.background.g);
      gl.uniform1f(bLoc, PARAMS.background.b);
      gl.uniform1f(dxLoc, dx);
      gl.uniform1f(dyLoc, dy);    
    }
    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
  } // End of 'render' function

  console.log("CGSG forever!!! mylib.js imported");

  let Mx = 0,
    My = 0,
    Mz = 1,
    dx = 0, dy = 0;
  const PARAMS = {
    //key: "#ff0055ff",
    background: { r: 255.0, g: 255.0, b: 255.0 },
  };

  function onClick(event) {
    let speed = 30,
      sz = 0.04;

    if (event.key == "ArrowLeft") dx += speed;
    if (event.key == "ArrowRight") dx -= speed;
    if (event.key == "ArrowUp") dy += speed;
    if (event.key == "ArrowDown") dy -= speed;
    if (event.key == "PageUp") Mz -= sz;
    if (event.key == "PageDown") Mz += sz;
  }

  function onScroll(event) {
    let sz = 0.001;
    
    event.preventDefault();
    Mz += event.deltaY * sz;
  }

  function onMouseMove(event) {
    if (event.buttons == 1)
    {
      dx += event.movementX;
      dy += event.movementY * 2460 / 1080;
    }

    Mx = event.clientX;
    My = event.clientY;

    event.preventDefault();
  }


  window.addEventListener("load", () => {
    initGL();
    const draw = () => {
      // drawing
      render();

      // animation register
      window.requestAnimationFrame(draw);
    };
    draw();
  });
  window.addEventListener("keydown", (e) => onClick(e));

})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL2NvbnN0IHsgUGFuZSB9ID0gcmVxdWlyZShcIi4vbm9kZV9tb2R1bGVzL3R3ZWFrcGFuZS9kaXN0L3R3ZWFrcGFuZS5qc1wiKTtcblxubGV0IGNhbnZhcywgZ2wsIHRpbWVMb2M7XG5cbmxldCBNeExvYywgTXlMb2MsIE16TG9jLCByTG9jLCBnTG9jLCBiTG9jLCBkeExvYywgZHlMb2M7XG5cbi8vIE9wZW5HTCBpbml0aWFsaXphdGlvbiBmdW5jdGlvblxuZnVuY3Rpb24gaW5pdEdMKCkge1xuICBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15Q2FuXCIpO1xuICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoZSkgPT4gb25Nb3VzZU1vdmUoZSkpO1xuICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIChlKSA9PiBvblNjcm9sbChlKSk7XG5cbiAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsMlwiKTtcbiAgZ2wuY2xlYXJDb2xvcigwLjMsIDAuNDcsIDAuOCwgMSk7XG5cbiAgLy8gU2hhZGVyIGNyZWF0aW9uXG4gIGxldCB2c190eHQgPSBgI3ZlcnNpb24gMzAwIGVzXG4gIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcbiAgaW4gdmVjMyBJblBvc2l0aW9uO1xuICAgIFxuICBvdXQgdmVjMiBEcmF3UG9zO1xuICB1bmlmb3JtIGZsb2F0IFRpbWU7XG4gXG4gIHZvaWQgbWFpbiggdm9pZCApXG4gIHtcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoSW5Qb3NpdGlvbiwgMSk7XG4gICAgRHJhd1BvcyA9IEluUG9zaXRpb24ueHk7XG4gIH1cbiAgYDtcblxuICBsZXQgZnNfdHh0ID0gYCN2ZXJzaW9uIDMwMCBlc1xuICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4gIG91dCB2ZWM0IE91dENvbG9yO1xuICBcbiAgaW4gdmVjMiBEcmF3UG9zO1xuICB1bmlmb3JtIGZsb2F0IFRpbWU7XG4gIHVuaWZvcm0gZmxvYXQgTXg7XG4gIHVuaWZvcm0gZmxvYXQgTXk7XG4gIHVuaWZvcm0gZmxvYXQgTXo7XG4gIHVuaWZvcm0gZmxvYXQgUjtcbiAgdW5pZm9ybSBmbG9hdCBHO1xuICB1bmlmb3JtIGZsb2F0IEI7XG4gIHVuaWZvcm0gZmxvYXQgZFg7XG4gIHVuaWZvcm0gZmxvYXQgZFk7XG5cbiAgdmVjMiBDbXBsTXVsQ21wbCggdmVjMiBBLCB2ZWMyIEIgKVxuICB7XG4gICAgcmV0dXJuIHZlYzIoQS54ICogQi54IC0gQS55ICogQi55LCBBLnggKiBCLnkgKyBBLnggKiBCLnkpO1xuICB9XG5cbiAgdm9pZCBtYWluKCB2b2lkIClcbiAge1xuICAgIHZlYzIgRCA9IHZlYzIoLWRYLCBkWSkgLyAxMDAwLjA7XG4gICAgdmVjMiBNID0gRDsvLyh2ZWMyKC1NeCwgTXkpIC8gdmVjMigyNDYwLjAsIDEwODAuMCkpICogMi4wICsgdmVjMigxLjAsIC0xLjApO1xuXG4gICAgdmVjMiBTdGFydCA9IHZlYzIoLTEuMCwgLTEuMCkgKyBNLCBFbmQgPSB2ZWMyKDEuMCwgMS4wKSArIE07XG5cbiAgICB2ZWMyIERyYXdQb3MwID0gKDEuMCArIERyYXdQb3MpIC8gMi4wICogdmVjMihFbmQueCAtIFN0YXJ0LngsIEVuZC55IC0gU3RhcnQueSkgKyB2ZWMyKFN0YXJ0LngsIFN0YXJ0LnkpO1xuICAgXG4gICAgRHJhd1BvczAgKj0gTXo7XG4gIFxuICAgIHZlYzIgWjAgPSAyLjAgKiB2ZWMyKDAuMyAqIHNpbigoVGltZSArIE14ICogMC4wIC8gMTAwLjApICogMC41KSwgMC4zOCArIDAuMDIgKiBzaW4oKChUaW1lICsgTXggKiAwLjAgLyAxMDAuMCkgKiAwLjEgKyAxLjApIC8gMzAwLjApKSwgWiA9IERyYXdQb3MwLnh5O1xuICAgIGludCBuID0gMDsgICAgXG5cbiAgICAvL1owID0gKFowICsgMS4wKSAvIDIuMCAqIHZlYzIoMjQwMC4wLCAxMDgwLjApO1xuICAgIC8vWiA9IChaICsgMS4wKSAvIDIuMCAqIHZlYzIoMjQwMC4wLCAxMDgwLjApO1xuXG4gICAgWi54ICo9IDI0NjAuMCAvIDEwODAuMDtcbiAgICBaMC54ICo9IDI0NjAuMCAvIDEwODAuMDtcblxuICAgIHdoaWxlIChuIDwgMjU1ICYmIGRvdChaLCBaKSA8IDQuMClcbiAgICB7XG4gICAgICBaID0gQ21wbE11bENtcGwoQ21wbE11bENtcGwoWiwgWiksIFopOy8vdmVjMihaLnggKiBaLnggLSBaLnkgKiBaLnksIFoueCAqIFoueSArIFoueCAqIFoueSk7XG4gICAgICBaID0gWiArIFowO1xuICAgICAgbisrO1xuICAgIH1cblxuICAgIE91dENvbG9yID0gdmVjNCh2ZWMzKDMuMCAqIHZlYzMoZmxvYXQobikgLyAyNTAuMCwgZmxvYXQobikgLyAyMzAuMCwgZmxvYXQobikgLyAyNDAuMCkpICogdmVjMyhSLCBHLCBCKSAvIDI1NS4wLCAxLjApO1xuICB9XG4gIGA7XG4gIGxldCB2cyA9IGxvYWRTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUiwgdnNfdHh0KSxcbiAgICBmcyA9IGxvYWRTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSLCBmc190eHQpLFxuICAgIHByZyA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgZ2wuYXR0YWNoU2hhZGVyKHByZywgdnMpO1xuICBnbC5hdHRhY2hTaGFkZXIocHJnLCBmcyk7XG4gIGdsLmxpbmtQcm9ncmFtKHByZyk7XG4gIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcmcsIGdsLkxJTktfU1RBVFVTKSkge1xuICAgIGxldCBidWYgPSBnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcmcpO1xuICAgIGNvbnNvbGUubG9nKFwiU2hhZGVyIHByb2dyYW0gbGluayBmYWlsOiBcIiArIGJ1Zik7XG4gIH1cblxuICAvLyBWZXJ0ZXggYnVmZmVyIGNyZWF0aW9uXG4gIGNvbnN0IHNpemUgPSAxO1xuICBjb25zdCB2ZXJ0ZXhlcyA9IFtcbiAgICAtc2l6ZSxcbiAgICBzaXplLFxuICAgIDAsXG4gICAgLXNpemUsXG4gICAgLXNpemUsXG4gICAgMCxcbiAgICBzaXplLFxuICAgIHNpemUsXG4gICAgMCxcbiAgICBzaXplLFxuICAgIC1zaXplLFxuICAgIDAsXG4gIF07XG4gIGNvbnN0IHBvc0xvYyA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByZywgXCJJblBvc2l0aW9uXCIpO1xuICBsZXQgdmVydGV4QXJyYXkgPSBnbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO1xuICBnbC5iaW5kVmVydGV4QXJyYXkodmVydGV4QXJyYXkpO1xuICBsZXQgdmVydGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0ZXhCdWZmZXIpO1xuICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh2ZXJ0ZXhlcyksIGdsLlNUQVRJQ19EUkFXKTtcbiAgaWYgKHBvc0xvYyAhPSAtMSkge1xuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zTG9jLCAzLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc0xvYyk7XG4gIH1cblxuICAvLyBVbmlmb3JtIGRhdGFcbiAgdGltZUxvYyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcmcsIFwiVGltZVwiKTtcblxuICAvLyBHZXR0aW5nIGxvY2F0aW9uIGZyb20gc2hhZGVyXG4gIE14TG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByZywgXCJNeFwiKTtcbiAgTXlMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJnLCBcIk15XCIpO1xuICBNekxvYyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcmcsIFwiTXpcIik7XG4gIHJMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJnLCBcIlJcIik7XG4gIGdMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJnLCBcIkdcIik7XG4gIGJMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJnLCBcIkJcIik7XG4gIGR4TG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByZywgXCJkWFwiKTtcbiAgZHlMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJnLCBcImRZXCIpO1xuXG4gIGdsLnVzZVByb2dyYW0ocHJnKTtcblxuICAvL2NvbnN0IHBhbmUgPSBuZXcgUGFuZSgpO1xuICAvL3BhbmUuYWRkQmluZGluZyhQQVJBTVMsIFwiYmFja2dyb3VuZFwiKTtcbn0gLy8gRW5kIG9mICdpbml0R0wnIGZ1bmN0aW9uXG5cbi8vIExvYWQgYW5kIGNvbXBpbGUgc2hhZGVyIGZ1bmN0aW9uXG5mdW5jdGlvbiBsb2FkU2hhZGVyKHNoYWRlclR5cGUsIHNoYWRlclNvdXJjZSkge1xuICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSk7XG4gIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNoYWRlclNvdXJjZSk7XG4gIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICBsZXQgYnVmID0gZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpO1xuICAgIGNvbnNvbGUubG9nKFwiU2hhZGVyIGNvbXBpbGUgZmFpbDogXCIgKyBidWYpO1xuICB9XG4gIHJldHVybiBzaGFkZXI7XG59IC8vIEVuZCBvZiAnbG9hZFNoYWRlcicgZnVuY3Rpb25cblxubGV0IHggPSAxO1xuXG4vLyBNYWluIHJlbmRlciBmcmFtZSBmdW5jdGlvblxuZnVuY3Rpb24gcmVuZGVyKCkge1xuICAvLyBjb25zb2xlLmxvZyhgRnJhbWUgJHt4Kyt9YCk7XG4gIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuXG4gIGlmICh0aW1lTG9jICE9IC0xKSB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgbGV0IHQgPVxuICAgICAgZGF0ZS5nZXRNaW51dGVzKCkgKiA2MCArXG4gICAgICBkYXRlLmdldFNlY29uZHMoKSArXG4gICAgICBkYXRlLmdldE1pbGxpc2Vjb25kcygpIC8gMTAwMDtcblxuICAgIGdsLnVuaWZvcm0xZih0aW1lTG9jLCB0KTtcbiAgICBnbC51bmlmb3JtMWYoTXhMb2MsIE14KTtcbiAgICBnbC51bmlmb3JtMWYoTXlMb2MsIE15KTtcbiAgICBnbC51bmlmb3JtMWYoTXpMb2MsIE16KTtcbiAgICBnbC51bmlmb3JtMWYockxvYywgUEFSQU1TLmJhY2tncm91bmQucik7XG4gICAgZ2wudW5pZm9ybTFmKGdMb2MsIFBBUkFNUy5iYWNrZ3JvdW5kLmcpO1xuICAgIGdsLnVuaWZvcm0xZihiTG9jLCBQQVJBTVMuYmFja2dyb3VuZC5iKTtcbiAgICBnbC51bmlmb3JtMWYoZHhMb2MsIGR4KTtcbiAgICBnbC51bmlmb3JtMWYoZHlMb2MsIGR5KTsgICAgXG4gIH1cbiAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG59IC8vIEVuZCBvZiAncmVuZGVyJyBmdW5jdGlvblxuXG5jb25zb2xlLmxvZyhcIkNHU0cgZm9yZXZlciEhISBteWxpYi5qcyBpbXBvcnRlZFwiKTtcblxubGV0IE14ID0gMCxcbiAgTXkgPSAwLFxuICBNeiA9IDEsXG4gIGR4ID0gMCwgZHkgPSAwO1xuY29uc3QgUEFSQU1TID0ge1xuICAvL2tleTogXCIjZmYwMDU1ZmZcIixcbiAgYmFja2dyb3VuZDogeyByOiAyNTUuMCwgZzogMjU1LjAsIGI6IDI1NS4wIH0sXG59O1xubGV0IHBhbmU7XG5sZXQgcGFuZVIsIHBhbmVHLCBwYW5lQjtcblxuZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICBsZXQgc3BlZWQgPSAzMCxcbiAgICBzeiA9IDAuMDQ7XG5cbiAgaWYgKGV2ZW50LmtleSA9PSBcIkFycm93TGVmdFwiKSBkeCArPSBzcGVlZDtcbiAgaWYgKGV2ZW50LmtleSA9PSBcIkFycm93UmlnaHRcIikgZHggLT0gc3BlZWQ7XG4gIGlmIChldmVudC5rZXkgPT0gXCJBcnJvd1VwXCIpIGR5ICs9IHNwZWVkO1xuICBpZiAoZXZlbnQua2V5ID09IFwiQXJyb3dEb3duXCIpIGR5IC09IHNwZWVkO1xuICBpZiAoZXZlbnQua2V5ID09IFwiUGFnZVVwXCIpIE16IC09IHN6O1xuICBpZiAoZXZlbnQua2V5ID09IFwiUGFnZURvd25cIikgTXogKz0gc3o7XG59XG5cbmZ1bmN0aW9uIG9uU2Nyb2xsKGV2ZW50KSB7XG4gIGxldCBzeiA9IDAuMDAxO1xuICBcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgTXogKz0gZXZlbnQuZGVsdGFZICogc3o7XG59XG5cbmZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2ZW50KSB7XG4gIGlmIChldmVudC5idXR0b25zID09IDEpXG4gIHtcbiAgICBkeCArPSBldmVudC5tb3ZlbWVudFg7XG4gICAgZHkgKz0gZXZlbnQubW92ZW1lbnRZICogMjQ2MCAvIDEwODA7XG4gIH1cblxuICBNeCA9IGV2ZW50LmNsaWVudFg7XG4gIE15ID0gZXZlbnQuY2xpZW50WTtcblxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XG4gIGluaXRHTCgpO1xuICBjb25zdCBkcmF3ID0gKCkgPT4ge1xuICAgIC8vIGRyYXdpbmdcbiAgICByZW5kZXIoKTtcblxuICAgIC8vIGFuaW1hdGlvbiByZWdpc3RlclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7XG4gIH07XG4gIGRyYXcoKTtcbn0pO1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiBvbkNsaWNrKGUpKTsiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0VBQUE7QUFDQTtFQUNBLElBQUksTUFBTSxFQUFFLEVBQUUsRUFBRSxPQUFPLENBQUM7QUFDeEI7RUFDQSxJQUFJLEtBQUssRUFBRSxLQUFLLEVBQUUs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
